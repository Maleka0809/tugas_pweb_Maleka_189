<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="pert9_pweb.css">
</head>
<body>
    <h3>Penerapan PHP Pada website pendaftaran siswa</h3>

    <div class="isisemua">
        <h2>Laporan Proyek CRUD PHP & MySQL</h2>

<h3>1. Pendahuluan</h3>
<p>
    Proyek ini bertujuan membuat aplikasi sederhana berbasis web untuk mengelola data siswa.
    Aplikasi menggunakan bahasa pemrograman PHP dan database MySQL, dijalankan pada lingkungan Laragon.
</p>

<h3>2. Struktur Database</h3>
<p>Tabel yang digunakan adalah <b>contacts</b> dengan struktur sebagai berikut:</p>
<code>
<ul>
    <li>id (INT, AUTO_INCREMENT, PRIMARY KEY)</li>
    <li>name (VARCHAR 100)</li>
    <li>umur (INT)</li>
    <li>asal_sekolah (VARCHAR 150)</li>
    <li>agama (VARCHAR 50)</li>
    <li>gender (VARCHAR 10)</li>
    <li>alamat (TEXT)</li>
    <li>email (VARCHAR 100)</li>
    <li>phone (VARCHAR 20)</li>
</ul>
</code>
<h3>3. File â€“ File Program</h3>

<h3>3.1 koneksi.php</h3>
<p>File ini digunakan untuk menghubungkan aplikasi dengan database MySQL.</p>

<pre>
<code>
<?php
$koneksi = mysqli_connect("localhost", "root", "", "demo_crud");

if (!$koneksi) {
    die("Koneksi gagal: " . mysqli_connect_error());
}
?>
</pre>
</code>
<h3>3.2 index.php</h3>
<p>Halaman utama yang berisi navigasi menuju halaman tambah data dan lihat data.</p>

<code>
<!DOCTYPE html>
<html>
<head>
    <title>Menu Utama</title>
</head>
<body>

<h3>Menu Utama</h3>

<a href="tambah.php">Tambah Data Siswa</a><br>
<a href="list.php">Lihat Data Siswa</a>

</body>
</html>
</code>

<h3>3.3 tambah.php (CREATE)</h3>
<p>Digunakan untuk menambah data siswa ke dalam database.</p>

<code>
<?php
require 'koneksi.php';

if (isset($_POST['submit'])) {
    $nama = $_POST['name'];
    $umur = $_POST['umur'];
    $asal = $_POST['asal_sekolah'];
    $agama = $_POST['agama'];
    $gender = $_POST['gender'];
    $alamat = $_POST['alamat'];
    $email = $_POST['email'];
    $phone = $_POST['phone'];

    $sql = "INSERT INTO contacts (name, umur, asal_sekolah, agama, gender, alamat, email, phone)
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)";

    $stmt = mysqli_prepare($koneksi, $sql);
    mysqli_stmt_bind_param($stmt, "sissssss",
        $nama, $umur, $asal, $agama, $gender, $alamat, $email, $phone
    );
    mysqli_stmt_execute($stmt);

    header("Location: list.php");
    exit;
}
?>

<form method="POST">
    Nama: <br><input type="text" name="name"><br>
    Umur: <br><input type="number" name="umur"><br>
    Asal Sekolah: <br><input type="text" name="asal_sekolah"><br>
    Agama: <br><input type="text" name="agama"><br>
    Gender: <br><input type="text" name="gender"><br>
    Alamat: <br><textarea name="alamat"></textarea><br>
    Email: <br><input type="text" name="email"><br>
    Phone: <br><input type="text" name="phone"><br><br>

    <button type="submit" name="submit">Simpan</button>
</form>
</code>

<h3>3.4 list.php (READ)</h3>
<p>Menampilkan seluruh data siswa dalam bentuk tabel.</p>

<code>
<?php
require 'koneksi.php';

$result = mysqli_query($koneksi, "SELECT * FROM contacts ORDER BY id DESC");
?>

<h3>Data Siswa</h3>

<a href="index.php">Kembali</a><br><br>

<table border="1" cellpadding="5">
    <tr>
        <th>ID</th>
        <th>Nama</th>
        <th>Umur</th>
        <th>Asal Sekolah</th>
        <th>Agama</th>
        <th>Gender</th>
        <th>Alamat</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Aksi</th>
    </tr>

<?php while ($row = mysqli_fetch_assoc($result)) : ?>
    <tr>
        <td><?= $row['id'] ?></td>
        <td><?= $row['name'] ?></td>
        <td><?= $row['umur'] ?></td>
        <td><?= $row['asal_sekolah'] ?></td>
        <td><?= $row['agama'] ?></td>
        <td><?= $row['gender'] ?></td>
        <td><?= $row['alamat'] ?></td>
        <td><?= $row['email'] ?></td>
        <td><?= $row['phone'] ?></td>
        <td>
            <a href="edit.php?id=<?= $row['id'] ?>">Edit</a> |
            <a href="hapus.php?id=<?= $row['id'] ?>">Hapus</a>
        </td>
    </tr>
<?php endwhile; ?>
</table>
</code>

<h3>3.5 edit.php (UPDATE)</h3>
<p>Mengupdate data siswa berdasarkan ID.</p>

<code>
<?php
require 'koneksi.php';

$id = $_GET['id'];

$query = mysqli_query($koneksi, "SELECT * FROM contacts WHERE id=$id");
$data = mysqli_fetch_assoc($query);

if (isset($_POST['submit'])) {
    $nama = $_POST['name'];
    $umur = $_POST['umur'];
    $asal = $_POST['asal_sekolah'];
    $agama = $_POST['agama'];
    $gender = $_POST['gender'];
    $alamat = $_POST['alamat'];
    $email = $_POST['email'];
    $phone = $_POST['phone'];

    $sql = "UPDATE contacts SET
            name='$nama',
            umur='$umur',
            asal_sekolah='$asal',
            agama='$agama',
            gender='$gender',
            alamat='$alamat',
            email='$email',
            phone='$phone'
            WHERE id=$id";

    mysqli_query($koneksi, $sql);

    header("Location: list.php");
    exit;
}
?>

<form method="POST">
    Nama:<br><input type="text" name="name" value="<?= $data['name'] ?>"><br>
    Umur:<br><input type="number" name="umur" value="<?= $data['umur'] ?>"><br>
    Asal Sekolah:<br><input type="text" name="asal_sekolah" value="<?= $data['asal_sekolah'] ?>"><br>
    Agama:<br><input type="text" name="agama" value="<?= $data['agama'] ?>"><br>
    Gender:<br><input type="text" name="gender" value="<?= $data['gender'] ?>"><br>
    Alamat:<br><textarea name="alamat"><?= $data['alamat'] ?></textarea><br>
    Email:<br><input type="text" name="email" value="<?= $data['email'] ?>"><br>
    Phone:<br><input type="text" name="phone" value="<?= $data['phone'] ?>"><br><br>

    <button type="submit" name="submit">Update</button>
</form>
</code>

<h3>3.6 hapus.php (DELETE)</h3>
<p>Untuk menghapus data berdasarkan ID.</p>

<code>
<?php
require 'koneksi.php';

$id = $_GET['id'];

mysqli_query($koneksi, "DELETE FROM contacts WHERE id=$id");

header("Location: list.php");
exit;
?>
</code>

<h3>4. Kesimpulan</h3>
<p>
    Aplikasi CRUD ini dapat melakukan proses tambah, lihat, edit, dan hapus data siswa.
    Sistem ini dapat dikembangkan lebih lanjut dengan menambahkan validasi, pagination,
    tampilan lebih menarik dengan CSS, dan API.
</p>

<h3>Dokumentasi Kode</h3>
<img class="gambar_1" src="soal.png">
</br>
<img class="gambar_1" src="soal2.png">
</br>
<img class="gambar_1" src="soal3.png">
<button class="tombol_1">
<a href="">code</a>
</button>

       
    </div>
    
</body>
</html>